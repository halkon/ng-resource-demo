<!doctype html>
<html ng-app="encoreApp">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Encore</title>

        <base href="/encoreApp/">
        <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css">

        <!-- build:css styles/vendor.css -->
        <!-- bower:css -->
        <!-- endbower -->
        <!-- endbuild -->

        <!-- build:css styles/application.css -->
        <link rel="stylesheet" href="application.css">
        <!-- endbuild -->
    </head>
    <body>
        <!-- Add your site or application content here -->
        <rx-app>
            <rx-page>
                <div ng-controller="demoCtrl as demo">
                    <div class="pull-left" style="margin: 1rem; max-width: 60%">
                        <h1 class="title xl" style="margin-top: 0;">List Users</h1>
                        <rx-button default-msg="Refresh List" classes="full-width" ng-click="demo.fetchUsers()">Refresh List</rx-button>
                        <div ng-repeat="user in demo.users">
                            <div style="text-align: center; background: #666; color: #efefef; overflow: auto;">
                                getName()<br />
                                <strong>{{ user.getName() }}</strong>
                                <br ng-if="user.lazy" />
                                <strong ng-if="user.lazy">~~ BOSSMAN SAYS THEY'RE LAZY ~~~</strong>
                            </div>
                            <div style="border: #666 solid; border-width: 0.1rem 0; overflow: auto; padding: 0.6rem; margin-bottom: 0.50rem;">
                                <div style="width: 33%" class="metadata pull-left">
                                    <dl>
                                        <dt>ID:</dt>
                                        <dd>{{ user.id }}</dd>
                                    </dl>
                                </div>
                                <div style="width: 33%" class="metadata pull-left">
                                    <dl>
                                        <dt>First:</dt>
                                        <dd>{{ user.first }}</dd>
                                    </dl>
                                </div>
                                <div style="width: 33%" class="metadata pull-left">
                                    <dl>
                                        <dt>Last:</dt>
                                        <dd>{{ user.last }}</dd>
                                    </dl>
                                </div>
                            </div>
                            <div>
                                <rx-button
                                        ng-click="demo.getUser(user)"
                                        default-msg="Edit User From Instance"
                                        classes="finish "
                                        >
                                </rx-button>
                                <rx-button
                                        ng-click="user.toggleLazy()"
                                        default-msg="Toggle Instance Laziness"
                                        classes=""
                                        >
                                </rx-button>
                                <rx-button
                                        ng-click="demo.toggleLazy(user)"
                                        toggle-msg="Updating Server"
                                        default-msg="Persist & Toggle Laziness"
                                        classes="positive ">
                                </rx-button>
                            </div>
                        </div>
                    </div>
                    <div class="pull-left" style="margin: 1rem;">
                        <form rx-form class="form" ng-if="demo.editUser.id">
                            <h1 class="title xl" style="margin-top: 0;">Edit User {{ demo.editUser.getName() }}</h1>
                            <rx-form-section>
                                <rx-field>
                                    <rx-field-name>First Name</rx-field-name>
                                    <rx-field-content>
                                        <rx-input>
                                            <input type="text" ng-model="demo.editUser.first" />
                                        </rx-input>
                                    </rx-field-content>

                                    <rx-field-name>Last Name</rx-field-name>
                                    <rx-field-content>
                                        <rx-input>
                                            <input type="text" ng-model="demo.editUser.last" />
                                        </rx-input>
                                    </rx-field-content>

                                    <rx-field-name>Lazy?</rx-field-name>
                                    <rx-field-content>
                                        <rx-toggle-switch
                                            ng-model="demo.editUser.lazy"
                                        </rx-toggle-switch>
                                    </rx-field-content>

                                    <rx-button
                                            ng-click="demo.saveUser(demo.editUser)"
                                            toggle-msg="Updating User"
                                            default-msg="Update User"
                                            classes="positive full-width">
                                    </rx-button>
                                </rx-field>
                            </rx-form-section>
                        </form>
                        <form rx-form class="form" ng-if="!demo.editUser.id">
                            <h1 class="title xl" style="margin-top: 0;">Create a User</h1>
                            <rx-form-section>
                                <rx-field>
                                    <rx-field-name>First Name</rx-field-name>
                                    <rx-field-content>
                                        <rx-input>
                                            <input type="text" ng-model="demo.formUser.first" />
                                        </rx-input>
                                    </rx-field-content>

                                    <rx-field-name>Last Name</rx-field-name>
                                    <rx-field-content>
                                        <rx-input>
                                            <input type="text" ng-model="demo.formUser.last" />
                                        </rx-input>
                                    </rx-field-content>

                                    <rx-field-name>Lazy?</rx-field-name>
                                    <rx-field-content>
                                        <rx-toggle-switch
                                            ng-model="demo.formUser.lazy"
                                        </rx-toggle-switch>
                                    </rx-field-content>

                                    <rx-button
                                            ng-click="demo.saveUser(demo.formUser)"
                                            toggle-msg="Creating User"
                                            default-msg="Create User"
                                            classes="positive full-width">
                                    </rx-button>
                                </rx-field>
                            </rx-form-section>
                        </form>
                        <form rx-form class="form">
                            <rx-form-section>
                                <rx-field>
                                    <rx-field-name>Find By User ID</rx-field-name>
                                    <rx-field-content>
                                        <rx-input>
                                            <input type="text" ng-model="editUserID" />
                                        </rx-input>
                                    </rx-field-content>
                                    <rx-button
                                            ng-click="demo.getUser(editUserID)"
                                            toggle-msg="Finding User"
                                            default-msg="Find User"
                                            classes="positive full-width">
                                    </rx-button>
                                </rx-field>
                            </rx-form-section>
                        </form>
                    </div>
                </div>
            </rx-page>
        </rx-app>

        <!-- build:js scripts/vendor.js -->
        <!-- bower:js -->
        <!-- endbower -->
        <!-- endbuild -->

        <!-- build:js scripts/application.js -->
        <script src="src/app.js"></script>
        <script src="templates.js"></script>
        <!-- inject:js -->
        <!-- endinject -->
        <!-- endbuild -->
    </body>
</html>
